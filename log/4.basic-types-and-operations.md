# Basic Types and Operations

## Basic Types

Kodiak has several built-in basic types:

```kodiak
{?} Numeric types
val byte-val :int8 = 127
val short-val :int16 = 32767
val int-val :int = 2147483647
val long-val :int64 = 9223372036854775807

val float-val :float32 = 3.14
val double-val :float64 = 3.141592653589793

{?} Boolean type
val is-true :bool = true
val is-false :bool = false

{?} Text type
val greeting :text = "[Hello, world!]
val empty-text :text = "[]

{?} Character type
val letter :char = "A
val digit :char = "5

{?} Unit type (represents no meaningful value)
val nothing :unit = ()
```

## Literals

Kodiak supports various literal formats:

```kodiak
{?} Integer literals
val decimal = 42
val hexadecimal = x#2A
val binary = b#101010
val octal = o#52

{?} Floating-point literals
val pi = 3.14159
val scientific = 1.23e-4
val with-prefix = f32#3.14

{?} Boolean literals
val yes = true
val no = false

{?} Text literals
val single-line = "[Hello, world!]
val with-escapes = "[Line 1\nLine 2\tTabbed]
val raw-text = r"[No escapes here: \n \t]
val multiline = "[
  This is a
  multiline text
  literal
]

{?} Character literals
val letter = "[x]
val escaped = "[\n]
val unicode = "[\u0041]  {?} 'A'
```

## Text interpolation

Kodiak supports text interpolation using `${}`, `$[]`, or `$()` syntax:

```kodiak
val name = "Alice"
val age = 30
val height = 5.6

{?} Basic interpolation
val greeting = "Hello, ${name}!"
printline(greeting)  {?} "Hello, Alice!"

{?} Expressions in interpolation
val info = "${name} is ${age} years old and ${height} feet tall"
printline(info)  {?} "Alice is 30 years old and 5.6 feet tall"

{?} Complex expressions
val math-result = "The sum of 2 + 3 is ${2 + 3}"
printline(math-result)  {?} "The sum of 2 + 3 is 5"

{?} Method calls in interpolation
val formatted = "Name in caps: ${name.to-upper-case}"
printline(formatted)  {?} "Name in caps: ALICE"
```

If the interpolated variable is a word, then brackets are not needed.

```kodiak
{?} Basic interpolation
val greeting = "Hello, $name !"
printline(greeting)  {?} "Hello, Alice !"

{?} Expressions in interpolation
val info = "$name is $age years old and $height feet tall"
printline(info)  {?} "Alice is 30 years old and 5.6 feet tall"
```

## Operators are methods

In Kodiak, operators are syntactic sugar for method calls:

```kodiak
{?} These are equivalent:
val sum1 = 1 + 2
val sum2 = 1.+(2)

{?} These are equivalent:
val product1 = 3 * 4
val product2 = 3.*(4)

{?} These are equivalent:
val comparison1 = 5 > 3
val comparison2 = 5.>(3)

{?} Custom operators can be defined:
plex vector(x :float64, y :float64) =>
  fn +(other :vector) :vector =>
    vector(x + other.x, y + other.y)

  fn *(scalar :float64) :vector =>
    vector(x * scalar, y * scalar)

  fn magnitude :float64 =>
    math.sqrt(x * x + y * y)
end vector

val v1 = :vector(3.0, 4.0)
val v2 = :vector(1.0, 2.0)
val v3 = v1 + v2        {?} vector(4.0, 6.0)
val v4 = v1 * 2.0       {?} vector(6.0, 8.0)
```

## Relational and logical operators

```kodiak
{?} Relational operators
val a = 10
val b = 20

val equal = (a == b)        {?} false
val not-equal = (a != b)    {?} true
val less-than = (a < b)     {?} true
val less-equal = (a <= b)   {?} true
val greater = (a > b)       {?} false
val greater-equal = (a >= b) {?} false

{?} Logical operators
val x = true
val y = false

val logical-and = x and y    {?} false
val logical-or = x or y     {?} true
val logical-not = not x        {?} false

{?} Short-circuit evaluation
val result = false and expensive-computation()  {?} expensive-computation() not called
val result2 = true or expensive-computation()  {?} expensive-computation() not called

{?} Chained comparisons
val age = 25
val is-adult = 18 <= age and age < 65  {?} true
```

## Bitwise operators

```kodiak
{?} Bitwise operations work on integer types
val a = 12    {?} Binary: 1100
val b = 10    {?} Binary: 1010

val bit-and = a & b     {?} 8  (1000)
val bit-or = a | b      {?} 14 (1110)
val bit-xor = a ^ b     {?} 6  (0110)
val bit-not = ~a        {?} -13 (two's complement)

{?} Bit shifting
val left-shift = a << 2   {?} 48 (110000)
val right-shift = a >> 1  {?} 6  (110)

{?} Working with flags
val read-permission = 1    {?} 001
val write-permission = 2   {?} 010
val execute-permission = 4 {?} 100

val full-permissions = read-permission | write-permission | execute-permission {?} 7 (111)
val has-read = (full-permissions & read-permission) != 0 {?} true
val has-write = (full-permissions & write-permission) != 0 {?} true
```

## Object equality

```kodiak
{?} Reference equality vs value equality
val text1 = "hello
val text2 = "hello
val text3 = text1

{?} Value equality (content comparison)
val values-equal = text1 == text2    {?} true
val also-equal = text1 == text3      {?} true

{?} Reference equality (identity comparison)
val same-reference = text1 === text3  {?} true
val different-refs = text1 === text2  {?} may be false (implementation dependent)

{?} Custom equality for plexes
plex person(name :text, age :int) derives :can-equal[:person]

val p1 = :person("John", 25)
val p2 = :person("John", 25)
val p3 = :person("Jane", 25)

val same-content = p1 == p2    {?} true
val different-content = p1 == p3 {?} false
val same-identity = p1 === p2  {?} false (different instances)
```

## Operator precedence and associativity

Kodiak operators follow standard precedence rules:

```kodiak
{?} Precedence examples (highest to lowest):
val result1 = 2 + 3 * 4        {?} 14 (not 20, because * has higher precedence)
val result2 = (2 + 3) * 4      {?} 20 (parentheses override precedence)

{?} Associativity examples:
val left-assoc = 10 - 5 - 2    {?} 3 (evaluated as (10 - 5) - 2)
val right-assoc = 2 ^ 3 ^ 2    {?} 512 (evaluated as 2 ^ (3 ^ 2) if ^ existed)

{?} Operator precedence table (highest to lowest):
{?} 1. Postfix: . [] ()
{?} 2. Prefix: ! ~ + - ++ --
{?} 3. Multiplicative: * / %
{?} 4. Additive: + -
{?} 5. Shift: << >>
{?} 6. Relational: < <= > >=
{?} 7. Equality: == !=
{?} 8. Bitwise AND: &
{?} 9. Bitwise XOR: ^
{?} 10. Bitwise OR: |
{?} 11. Logical AND: &&
{?} 12. Logical OR: ||
{?} 13. Assignment: = += -= *= /= etc.

{?} Complex expression
val complex = 2 + 3 * 4 > 10 and 5 < 8 or false
{?} Evaluated as: ((2 + (3 * 4)) > 10) and (5 < 8) or false
{?} Which is: (14 > 10) and (5 < 8) or false
{?} Which is: true and true or false
{?} Which is: true or false
{?} Which is: true
```
